
// When you made changes into schema filr use below command to generate prisma schema
// npx prisma generate

// Use Below command to save prisma schema locally. Use only when you are working on local DB like POstgrees.
// npx prisma migrate dev --name init 

// Use below command to push prisma schema to remote server through database.
// npx prisma db push


generator client {
  provider = "prisma-client-js"
 
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres.iiurjkwkmvadgnwnylrp:Vegaaris2502999@aws-0-ap-south-1.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"
  directUrl = "postgresql://postgres:Vegaaris2502999@db.iiurjkwkmvadgnwnylrp.supabase.co:5432/postgres"
}

model Product {
  id        String    @id @default(uuid())
  name      String
  company   String
  description String
  featured  Boolean
  image     String
  price     Int
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  clerkId   String
  favourite Favourite[] // one to many relationship
}

model Favourite{
  id String @id @default(uuid())
  clerkId String
  product Product @relation(fields: [productId], references: [id] , onDelete: Cascade)
  productId String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}